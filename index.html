<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FuelCalc: Calculadora de Combust√≠vel</title>
    <meta name="description"
        content="Calculadora PWA de gastos com combust√≠vel, com estat√≠sticas e gerenciamento de ve√≠culos.">
    <meta name="keywords"
        content="uber, 99, combust√≠vel, gasolina, etanol, gnv, motorista, app, pwa, calculadora, gastos">
    <meta name="author" content="Seu Nome ou Nome do Projeto">

    <link rel="manifest" href="manifest.json">
    <link rel="apple-touch-icon" href="icons/icon-192x192.png">
    <meta name="theme-color" content="#00C165">
    <link rel="icon" type="image/png" sizes="32x32" href="icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="icons/favicon-16x16.png">
    <link rel="shortcut icon" href="icons/favicon.ico">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">

    <link rel="stylesheet" href="styles.css">
</head>

<body>
    <div id="splash-screen" class="splash-screen" aria-hidden="true">
        <img src="icons/icon-192x192.png" alt="Logo FuelCalc" class="logo">
        <h1>FuelCalc</h1>
        <p>Carregando sua calculadora...</p>
    </div>

    <div class="container">
        <header class="app-header">
            <img src="icons/icon-192x192.png" alt="Logo FuelCalc" class="logo">
            <h1>FuelCalc</h1>
            <p>Sua calculadora de combust√≠vel inteligente</p>
        </header>

        <section class="vehicle-selector content-section" aria-labelledby="vehicle-selector-title">
            <h2 id="vehicle-selector-title">Gerenciar Ve√≠culos</h2>
            <div class="vehicle-type-buttons">
                <button type="button" class="uber-button" data-vehicle-type="carro" aria-pressed="true">Carro</button>
                <button type="button" class="uber-button" data-vehicle-type="moto" aria-pressed="false">Moto</button>
            </div>
            <div class="vehicle-cards" id="vehicleList" aria-live="polite">
            </div>
            <button type="button" class="uber-button secondary full-width" id="addVehicleBtn"
                aria-label="Adicionar Novo Ve√≠culo">
                + Adicionar Ve√≠culo
            </button>
            <form id="vehicleForm" class="vehicle-form" style="display:none;" novalidate>
                <input type="hidden" id="vehicleType" name="vehicleType">
                <div class="input-group">
                    <label for="vehicleName">Nome do Ve√≠culo:</label>
                    <input type="text" id="vehicleName" name="vehicleName" placeholder="Ex: Onix 1.0" required
                        minlength="2" maxlength="50">
                </div>
                <div class="input-group">
                    <label for="vehicleEfficiency">Efici√™ncia (km/L):</label>
                    <input type="number" id="vehicleEfficiency" name="vehicleEfficiency" placeholder="Ex: 12.5"
                        step="0.1" min="1" max="50" required>
                </div>
                <div class="button-group">
                    <button type="submit" class="uber-button" id="saveVehicleBtn">Salvar Ve√≠culo</button>
                    <button type="button" class="uber-button secondary" id="cancelVehicleBtn">Cancelar</button>
                </div>
            </form>
        </section>

        <main class="calculator-form content-section" aria-labelledby="calculator-title">
            <h2 id="calculator-title">Calcular Gastos da Viagem</h2>
            <form id="fuelForm" novalidate>
                <div class="input-group">
                    <label for="kmPorLitro">Efici√™ncia do Ve√≠culo (km/L):</label>
                    <input type="number" id="kmPorLitro" name="kmPorLitro" placeholder="Selecione um ve√≠culo ou informe"
                        step="0.1" min="1" max="50" required>
                </div>
                <div class="input-group">
                    <label for="kmInicial">KM Inicial:</label>
                    <input type="number" id="kmInicial" name="kmInicial" placeholder="Ex: 15000.0" step="0.1" min="0"
                        required>
                </div>
                <div class="input-group">
                    <label for="kmFinal">KM Final:</label>
                    <input type="number" id="kmFinal" name="kmFinal" placeholder="Ex: 15120.5" step="0.1" min="0"
                        required>
                </div>
                <div class="input-group">
                    <label for="precoCombustivel">Pre√ßo por Litro (R$):</label>
                    <input type="number" id="precoCombustivel" name="precoCombustivel" placeholder="Ex: 5.89"
                        step="0.01" min="0.1" max="20" required>
                </div>
                <div class="input-group">
                    <label for="ganhoUber">Ganho Bruto da Viagem (R$, opcional):</label>
                    <input type="number" id="ganhoUber" name="ganhoUber" placeholder="Ex: 75.50" step="0.01" min="0">
                </div>
                <button type="submit" class="uber-button full-width" id="calculateTripBtn">
                    Calcular Gastos
                </button>
            </form>
        </main>

        <section id="resultCard" class="result-card content-section" style="display:none;"
            aria-labelledby="result-title">
            <h3 id="result-title">Resultado do C√°lculo</h3>
            <div class="result-item">
                <span>Dist√¢ncia Percorrida:</span>
                <strong id="distanciaResult">-- km</strong>
            </div>
            <div class="result-item">
                <span>Combust√≠vel Consumido:</span>
                <strong id="litrosResult">-- L</strong>
            </div>
            <div class="result-item">
                <span>Custo Total do Combust√≠vel:</span>
                <strong id="custoResult">R$ --</strong>
            </div>
            <div class="result-item total"> <span>Lucro L√≠quido da Viagem:</span>
                <strong id="lucroResult">R$ --</strong>
            </div>
        </section>

        <section id="historySection" class="history-section content-section" style="display:none;"
            aria-labelledby="history-title">
            <h3 id="history-title">Hist√≥rico de Viagens</h3>
            <ul id="historyList" class="price-list" aria-live="polite">
            </ul>
            <div class="button-group">
                <button type="button" id="seeMoreHistoryBtn" class="uber-button secondary" style="display:none;">Ver
                    Mais</button>
                <button type="button" id="minimizeHistoryBtn" class="uber-button secondary"
                    style="display:none;">Minimizar</button>
            </div>
            <button type="button" id="clearHistoryBtn" class="uber-button danger full-width"
                style="margin-top: 1rem;">Limpar Hist√≥rico deste Ve√≠culo</button>
        </section>

        <section id="statsSection" class="stats-section content-section" style="display:none;"
            aria-labelledby="stats-title">
            <h3 id="stats-title">Estat√≠sticas do Ve√≠culo Atual</h3>
            <div class="stat-item">
                <span>Total de KM Rodados:</span>
                <strong id="totalKmStat">0 km</strong>
            </div>
            <div class="stat-item">
                <span>Total Gasto com Combust√≠vel:</span>
                <strong id="totalGastoStat">R$ 0,00</strong>
            </div>
            <div class="stat-item">
                <span>M√©dia de Consumo Geral:</span>
                <strong id="mediaConsumoStat">0 km/L</strong>
            </div>
            <div class="chart-container">
                <canvas id="fuelChartCanvas" aria-label="Gr√°fico de gastos di√°rios com combust√≠vel"></canvas>
            </div>
        </section>

        <section class="backup-section content-section" aria-labelledby="backup-title">
            <h3 id="backup-title">Backup e Restaura√ß√£o de Dados</h3>
            <div class="backup-buttons">
                <button type="button" id="exportDataBtn" class="uber-button">
                    üì§ Exportar Dados
                </button>
                <button type="button" id="importDataBtn" class="uber-button">
                    üì• Importar Dados
                </button>
                <input type="file" id="importFileInput" accept=".json" style="display: none;" aria-hidden="true">
            </div>
            <p class="backup-info">
                Exporte seus dados para um arquivo de backup ou importe de um arquivo salvo anteriormente.
            </p>
        </section>

    </div>
    <footer class="app-footer">
        <p>&copy; <span id="currentYear"></span> FuelCalc. Todos os direitos reservados.</p>
        <p>Desenvolvido com ‚ù§Ô∏è</p>
    </footer>

    <div id="detailsModalOverlay" class="modal-overlay" role="dialog" aria-modal="true"
        aria-labelledby="detailsModalTitle" style="display:none;">
        <div class="modal-content">
            <button type="button" class="modal-close-button" id="closeDetailsModalBtn"
                aria-label="Fechar Detalhes">&times;</button>
            <h3 id="detailsModalTitle">Detalhes da Viagem</h3>
            <div id="detailsModalContent" class="modal-details">
            </div>
        </div>
    </div>

    <div id="confirmModalOverlay" class="modal-overlay" role="dialog" aria-modal="true"
        aria-labelledby="confirmModalTitle" style="display:none;">
        <div class="modal-content">
            <h3 id="confirmModalTitle">Confirmar A√ß√£o</h3>
            <p id="confirmModalMessage" style="margin-bottom: 1.5rem; text-align: center;">Voc√™ tem certeza?</p>
            <div class="confirm-modal-actions">
                <button type="button" class="uber-button secondary" id="confirmModalCancelBtn">Cancelar</button>
                <button type="button" class="uber-button" id="confirmModalConfirmBtn">Confirmar</button>
            </div>
        </div>
    </div>

    <div id="notificationArea" class="notification-area" aria-live="assertive">
    </div>


    <script src="/libs/chart.min.js" defer></script>
    <script src="app.js" defer></script>

    <script>
        // Pequeno script inline para o ano no footer
        document.getElementById('currentYear').textContent = new Date().getFullYear();
    </script>
</body>

</html>